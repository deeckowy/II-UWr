#include <iostream>
#include <vector>
#include <algorithm>
#include <fstream>
#include "approx.hpp"



int main()
{
    std::vector<double> x={
        2.145,-0.127,-3.169,-1.148,4.672,5.028,3.373,1.799,
        -1.244,-2.197,0.266,-3.459,3.576,0.746,-4.076,4.118,-1.086,-2.917,0.973,3.331,-3.923,
        2.264,3.074,0.080,0.240,1.742,2.065,4.469,4.486,
        -3.587,2.806,2.670,3.586,-3.349,-4.083,-3.888,4.063,5.327,
        -0.832,-0.393,-4.087,-0.780,-2.533,1.434,1.075,0.167,-1.558,1.654,-2.346,};
    std::vector<double> y={1.068,-0.345,29.477,15.497,38.699,20.617,33.685,-2.843,3.085,38.867,
        35.542,24.383,5.649,-1.316,17.275,-22.958,6.484,38.379,22.693,13.970,
        -3.042,-14.746,-1.436,-3.991,26.935,24.647,3.765,0.175,14.606,15.079,0.581,
        -3.902,-3.679,-1.241,9.577,-23.324,-13.045,5.581,
        46.795,36.858,32.679,-23.357,36.248,30.834,7.706,12.623,25.772,39.352,4.835,33.615
    };
    std::sort(x.begin(),x.end());
    std::sort(y.begin(),y.end());
    approx app(x,y);
    polynomial pol=app.get_polyn();
    for(auto& p:x)
        std::cout<<p<<","<<pol.get_val(p)<<std::endl;
    return 0;
}