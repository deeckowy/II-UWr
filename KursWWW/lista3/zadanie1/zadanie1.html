<!DOCTYPE html>
<html>

<head>
    <title> Zadanie 1 lista 3</title>
</head>

<body>
    <form name="form" method="get">
        <label for="accnum">Account number:</label><br>
        <input type="text" id="accnum" name="accnum" /><br>
        <label for="pesel">PESEL:</label><br>
        <input type="text" id="pesel" name="pesel" /><br>
        <label for="bdate">Birth date:</label><br>
        <input type="date" id="bdate" name="bdate" /><br>
        <label for="eadr">E-mail adress:</label><br>
        <input type="email" id="eadr" name="eadr" /><br><br>
        <button type="button" id="btn">SEND</button>
    </form>
    <script language="javascript" type="text/javascript">
        document.getElementById('accnum').onblur = function() {
            accval()
        };
        document.getElementById('pesel').onblur = function() {
            pesval();
        };
        document.getElementById('eadr').onblur = function() {
            emval();
        };
        document.getElementById('btn').onclick = function() {
            all();
        }

        function accval() {
            var input = document.getElementById('accnum').value;
            const re = /\d{2,2}\s\d{4,4}\s\d{4,4}\s\d{4,4}\s\d{4,4}\s\d{4,4}\s\d{4,4}/;
            if (!re.test(String(input))) {
                var mess = "Incorrect account number\ncorrect expression is xx xxxx xxxx xxxx xxxx xxxx xxxx";
                alert(mess);
                return false;
            }
            return true;
        };

        function pesval() {
            var input = document.getElementById('pesel').value;
            const re = /\b\d{11}\b/;
            if (!re.test(String(input))) {
                var mess = "Incorrect PESEL\ncorrect expression is xxxxxxxxxxx";
                alert(mess);
                return false;
            }
            return true;
        };

        function all() {
            if (!pesval() || !emval() || !accval()) {
                alert("JEBAC PIS");
            }
        }

        function emval() {
            var input = document.getElementById('eadr').value;
            const re = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;
            if (!re.test(String(input))) {
                var mess = "Incorrect email\ncorrect expression is johndoe@gmail.com";
                alert(mess);
                return false;
            }
            return true;
        }
    </script>
</body>

</html>